# 账务项目

## 这个项目的周期多长
历时一年左右，说下背景

## 为什么做这个项目，它解决了用户什么痛点，它带来了什么价值
替代sap、省钱

## 这个项目涉及到那些功能
应收应付、收付款、各种客户明细账
前置凭证、CA凭证

## 你在这个项目所承担的角色
核心研发

## 这个项目的整体架构是怎样的
配置中心、注册中心、监控中心、API网关、定时调度、apar、pay、前置凭证、ca凭证、总账凭证、接口服务、查询服务、web前端

## 请描述一下这个系统的核心流程
系统接受到应收应付或收付款数据后，先转前置凭证，然后转ca凭证，再根据对账代码生成ca总账，然后再将ca总账根据一定的维度生成fi中间表。

## 这个项目有什么优缺点，如果重新设计，你会如何设计
为了防止查询没有带分片键而导致的全表扫描，引入了tidb，增加了系统维护成本

## 这个项目有什么亮点
由于并发较大，服务之间基本都是通过kafka来削峰解耦。使用补偿确保数据的最终一致。

## 你通过这个项目有哪些技术成长
熟悉了分布式系统的设计思路，以及服务拆分过程中各种问题的应对策略。

## 有没有遇到什么问题
查询跨分片键问题，使用tidb解决