## 什么是Nginx
Nginx是一个web服务器和反向代理服务器

## Nginx有哪些功能
1. 作为httpServer（代替Apache）
2. 反向代理服务器
3. 实现负载均衡
4. 虚拟主机

## 什么是正向代理，什么是反向代理
- 正向代理，代理的是客户端，比如我们使用的翻墙软件
- 反向代理，代理的是服务端，比如Nginx

## LVS、Nginx、HAproxy有什么区别
1. 网站建设初期，可以选用Nigix/HAproxy作为反向代理负载均衡（或者流量不大都可以不选用负载均衡），因为其配置简单，性能也能满足一般的业务场景。如果考虑到负载均衡器是有单点问题，可以采用Nginx+Keepalived/HAproxy+Keepalived避免负载均衡器自身的单点问题。

2. 网站并发达到一定程度之后，为了提高稳定性和转发效率，可以使用LVS、毕竟LVS比Nginx/HAproxy要更稳定，转发效率也更高。不过维护LVS对维护人员的要求也会更高，投入成本也更大。

3. Niginx与Haproxy比较：Niginx支持七层、用户量最大，稳定性比较可靠。Haproxy支持四层和七层，支持更多的负载均衡算法，支持session保存等。具体选型看使用场景，目前来说Haproxy由于弥补了一些Niginx的缺点用户量也不断在提升。

## Nginx为啥不使用多线程
Nginx采用单线程来异步非阻塞处理请求，不会为每个请求分配cpu和内存资源，节省了大量的资源，同时也减少了大量的cpu的上下文切换，所以才能支持更高的并发请求。

nginx和redis基本采用相同的思路。

## 啥是动静分离
将静态资源(HTML/JS/CSS/IMG)放到nginx，动态资源转发到tomcat服务器中。
静态资源和后台应用分开部署后，可以提高用户访问静态代码的速度，降低对后台应用的访问。

## nginx的负载均衡策略
1. 轮询：每个请求按时间顺序逐一分配到不同的后台服务器
2. ip_hash：每个请求按ip的hash结果分配，这样每个访客固定访问一个后端服务器，可以解决session共享问题。
3. least_conn：下一个请求将会分派都活动连接数最少的服务器